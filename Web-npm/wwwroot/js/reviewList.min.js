var timeout=null,app=vueContext({el:"#app",data:function(){return{batchFilter:{Step:5},materialFilter:{BatchId:null},boxes:[{Id:1,Name:"Box 1"},{Id:2,Name:"Box 2"},{Id:3,Name:"Box 3"},{Id:4,Name:"Box 4"},{Id:5,Name:"Box 5"}],batches:[],materials:[],reviewingMaterials:[],items:[],isFlipped:!1}},watch:{"batchFilter.Step":function(){this.getBatches()},"materialFilter.BatchId":function(){this.getMaterials()}},computed:{},methods:{getBatches:function(){return apiHandler.Get("material/lookup",this.batchFilter).then(n=>{n=n.map(n=>(n.showAnswer=!1,n));this.materials=n.reduce((n,t)=>((n[t.BatchId]=n[t.BatchId]||[]).push(t),n),{});for(let n in this.materials)this.batches.push({Id:n,Name:this.materials[n][0].BatchNo})})},getMaterials:function(){this.reviewingMaterials=this.materials[this.materialFilter.BatchId]},increaseStep:function(n){if(!n.Loading)return n.Loading=!0,apiHandler.Put("material/increaseStep",n.MaterialId,n).then(()=>{n.Loading=!1})},decreaseStep:function(n){if(!n.Loading)return n.Loading=!0,apiHandler.Put("material/decreaseStep",n.MaterialId,n).then(()=>{n.Loading=!1})},filterChanged:function(){this.filter.CurrentPage=1;this.getList()},filterChagnedDelayed:function(){clearTimeout(timeout);timeout=setTimeout(()=>{this.filterChanged()},200)},fetchPage:function(n){this.filter.CurrentPage=n.page;this.getList()},updateModelDatepickerValue:function(n){this.paymentDetails.Date=n},setOrderByDirection:function(n){this.filter.OrderByDirection=n},setOrderBy:function(n){this.filter.OrderBy=n}},created:function(){},mounted:function(){}});