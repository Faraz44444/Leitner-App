@page
@model Web0.Pages.Admin.Account.Role.RoleListModel
@{
    ViewData["Title"] = Model.EntityName;
}
@section Scripts{
    <environment include="Development">
        <script src="/js/roleList.js"></script>
    </environment>
    <environment exclude="Development">
        <script src="/js/roleList.min.js"></script>
    </environment>
}
<div class="row justify-content-center" id="app">
    <div class="col">
        <c-section title="Role List">
            <template v-slot:content>
                <c-button title="Create New" v-on:click="goToDetails(0)"></c-button>
                <div class="row justify-content-center" id="app">
                    <div class="col">
                        <c-table :use-infinite-scroll="false" v-bind:filter="filter" v-on:fetch-page="fetchPage">
                            <template v-slot:thead>
                                <tr>
                                    <c-th title="Role Name" value="Name"
                                          v-bind:order-by="filter.OrderBy"
                                          v-bind:order-by-direction="filter.OrderByDirection"
                                          v-on:update-order-by-direction="setOrderByDirection($event)"
                                          v-on:update-order-by="setOrderBy($event)">
                                    </c-th>
                                    <c-th title="Created At" value="CreatedAt"
                                          v-bind:order-by="filter.OrderBy"
                                          v-bind:order-by-direction="filter.OrderByDirection"
                                          v-on:update-order-by-direction="setOrderByDirection($event)"
                                          v-on:update-order-by="setOrderBy($event)">
                                    </c-th>
                                </tr>
                                <tr>
                                    <th>
                                        <c-input>
                                            <template v-slot:input>
                                                <input class="bg-blue-900 border-2 rounded-full" type="text" v-model="filter.Name" />
                                            </template>
                                        </c-input>
                                    </th>
                                    <th></th>
                                </tr>
                            </template>
                            <template v-slot:tbody>
                                <template v-for="(item, index) in items">
                                    <tr v-on:click="goToDetails(item.RoleId)" :class="{'bg-customPurple-10':index%2 ==0}">
                                        <td>{{item.Name}}</td>
                                        <td>{{item.CreatedAt}}</td>
                                    </tr>
                                </template>
                            </template>
                        </c-table>
                    </div>
                </div>
            </template>
        </c-section>
    </div>
</div>